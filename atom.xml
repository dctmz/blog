<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DCTMZ&#39;s blog</title>
  
  <subtitle>一个自由的小小小团队</subtitle>
  <link href="https://dctmz.github.io/blog/atom.xml" rel="self"/>
  
  <link href="https://dctmz.github.io/blog/"/>
  <updated>2021-11-30T08:47:16.712Z</updated>
  <id>https://dctmz.github.io/blog/</id>
  
  <author>
    <name>dctmz</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>postman动态设置变量</title>
    <link href="https://dctmz.github.io/blog/2021/11/30/postman%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F/"/>
    <id>https://dctmz.github.io/blog/2021/11/30/postman%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F/</id>
    <published>2021-11-30T08:35:30.000Z</published>
    <updated>2021-11-30T08:47:16.712Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍下我在开发中遇到了 postman 调试接口时，遇到了没个接口都需要带一个自定义的请求头，而且是动态获取的，这里记录下我是怎么做的</p><span id="more"></span><h4 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h4><p>在开发中我碰到这种情况，每个请求接口都需要带上一个自定义的请求头，格式如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;Access-Token&quot;:&quot;token12345&quot;</span><br></pre></td></tr></table></figure><p>而且<code>token</code>是从登陆接口获取的，每半小时失效</p><p>这时候我设置了一个环境变量<code>&#123;&#123;TOKEN&#125;&#125;</code></p><p>那么问题来了，我怎么动态设置这个 token 呢</p><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><p>postman是提供请求前置（pre-request Script）和请求后置（Tests）的，而且在里面可以设置变量，发送请求等动作</p><h4 id="方案"><a href="#方案" class="headerlink" title="方案"></a>方案</h4><p>在Tests中设置，如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pm.test(<span class="string">&quot;设置token&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 获取登陆后的相应json</span></span><br><span class="line">    <span class="keyword">var</span> jsonData = pm.response.json();</span><br><span class="line">  <span class="comment">// 设置token</span></span><br><span class="line">   pm.environment.set(<span class="string">&#x27;TOKEN&#x27;</span>,jsonData.data.token)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>此时当你每次发送请求的时候就会动态设置环境变量了</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文介绍下我在开发中遇到了 postman 调试接口时，遇到了没个接口都需要带一个自定义的请求头，而且是动态获取的，这里记录下我是怎么做的&lt;/p&gt;</summary>
    
    
    
    <category term="开发工具" scheme="https://dctmz.github.io/blog/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="postman" scheme="https://dctmz.github.io/blog/tags/postman/"/>
    
    <category term="env" scheme="https://dctmz.github.io/blog/tags/env/"/>
    
  </entry>
  
  <entry>
    <title>hexo 博客搭建</title>
    <link href="https://dctmz.github.io/blog/2021/11/29/hexo-install-and-deploy/"/>
    <id>https://dctmz.github.io/blog/2021/11/29/hexo-install-and-deploy/</id>
    <published>2021-11-29T02:53:10.000Z</published>
    <updated>2021-11-30T08:48:05.390Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍博客搭建的过程</p><span id="more"></span><h2 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h2><ol><li>申请 <a href="https://github.com/">GitHub</a> 账号</li><li>创建仓库</li></ol><h2 id="安装和配置主题"><a href="#安装和配置主题" class="headerlink" title="安装和配置主题"></a>安装和配置主题</h2><h4 id="安装博客"><a href="#安装博客" class="headerlink" title="安装博客"></a>安装博客</h4><p><a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><p>使用以下命令安装博客</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><h4 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h4><p>我这里使用的是 <a href="https://github.com/cofess/hexo-theme-pure">pure</a></p><p>在博客目录下面运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/cofess/hexo-theme-pure.git themes/pure</span><br></pre></td></tr></table></figure><h4 id="配置主题"><a href="#配置主题" class="headerlink" title="配置主题"></a>配置主题</h4><ol><li>在项目目录下面新建<code>_config.pure.yml</code></li><li>复制<code>themes/pure/_config.yml</code>文件的内容到<code>_config.pure.yml</code></li><li>配置你的内容</li></ol><h2 id="部署到-GitHub"><a href="#部署到-GitHub" class="headerlink" title="部署到 GitHub"></a>部署到 GitHub</h2><h4 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h4><p>在项目根目录下运行以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h4 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h4><p>在项目根目录下的<code>_config.yml</code>找到<code>deploy</code>配置项</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&lt;repository</span> <span class="string">url&gt;</span> <span class="comment"># https://bitbucket.org/JohnSmith/johnsmith.bitbucket.io</span></span><br><span class="line">  <span class="attr">branch:</span> [<span class="string">branch</span>]</span><br><span class="line">  <span class="attr">message:</span> [<span class="string">message</span>]</span><br></pre></td></tr></table></figure><p>配置好后如下</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:dctmz/blog.git</span> <span class="comment">#https://bitbucket.org/JohnSmith/johnsmith.bitbucket.io</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">gh-pages</span></span><br></pre></td></tr></table></figure><h4 id="运行发布命令"><a href="#运行发布命令" class="headerlink" title="运行发布命令"></a>运行发布命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo deploy</span><br></pre></td></tr></table></figure><h4 id="GitHub-设置"><a href="#GitHub-设置" class="headerlink" title="GitHub 设置"></a>GitHub 设置</h4><p>一般情况下，GitHub 已经自动设置好了，如果没有设置好，找到<a href="https://github.com/dctmz/blog/settings/pages">page</a>设置</p><p>我的设置如下</p><p><img src="https://gitee.com/dctxf/pic/raw/master/1638174253930-1638174253928.png"></p><h4 id="预览"><a href="#预览" class="headerlink" title="预览"></a>预览</h4><p>接下来就可以访问你的博客了，如我的网址为</p><p><a href="https://dctmz.github.io/blog/">https://dctmz.github.io/blog/</a></p><p>改为你的地址即可</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://[username].github.io/[repo]/</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;本文介绍博客搭建的过程&lt;/p&gt;</summary>
    
    
    
    <category term="开发工具" scheme="https://dctmz.github.io/blog/categories/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="hexo" scheme="https://dctmz.github.io/blog/tags/hexo/"/>
    
    <category term="blog" scheme="https://dctmz.github.io/blog/tags/blog/"/>
    
    <category term="github" scheme="https://dctmz.github.io/blog/tags/github/"/>
    
    <category term="pure" scheme="https://dctmz.github.io/blog/tags/pure/"/>
    
  </entry>
  
</feed>
